<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>PicOS-V in EVE-NG - Yzguy</title><meta name=Description content><meta property="og:url" content="https://yzguy.github.io/posts/picos-v-in-eve-ng/">
<meta property="og:site_name" content="Yzguy"><meta property="og:title" content="PicOS-V in EVE-NG"><meta property="og:description" content="PicOS-V is the free virtual machine provided by Pica8 that allows you to experiment with their NOS.
Having virtual images for various NOS is hugely beneficial for learning. PicOS is the one I’ve recently stumbled upon.
A GNS3 qcow2 image is provided as well as directions for loading it into GNS3. However nothing for EVE-NG is provided, but fortunately it’s easy to create a custom template and get it loaded in."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-05-01T21:51:17-04:00"><meta property="article:modified_time" content="2024-05-01T21:51:17-04:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="PicOS-V in EVE-NG"><meta name=twitter:description content="PicOS-V is the free virtual machine provided by Pica8 that allows you to experiment with their NOS.
Having virtual images for various NOS is hugely beneficial for learning. PicOS is the one I&rsquo;ve recently stumbled upon.
A GNS3 qcow2 image is provided as well as directions for loading it into GNS3. However nothing for EVE-NG is provided, but fortunately it&rsquo;s easy to create a custom template and get it loaded in."><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://yzguy.github.io/posts/picos-v-in-eve-ng/><link rel=prev href=https://yzguy.github.io/posts/cloud-images-in-eve-ng/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"PicOS-V in EVE-NG","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/yzguy.github.io\/posts\/picos-v-in-eve-ng\/"},"genre":"posts","wordcount":466,"url":"https:\/\/yzguy.github.io\/posts\/picos-v-in-eve-ng\/","datePublished":"2024-05-01T21:51:17-04:00","dateModified":"2024-05-01T21:51:17-04:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Adam Smith"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"light"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"light"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=Yzguy>Yzguy</a></div><div class=menu><div class=menu-inner><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Yzguy>Yzguy</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">PicOS-V in EVE-NG</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/yzguy title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Adam Smith</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=05-01-2024>05-01-2024</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;466 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;3 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#obtain-image>Obtain Image</a></li><li><a href=#prepare-image-folder>Prepare Image Folder</a></li><li><a href=#create-custom-template>Create Custom Template</a></li><li><a href=#fix-permissions>Fix Permissions</a></li><li><a href=#deploy-node>Deploy Node</a></li><li><a href=#references>References</a></li><li><a href=#tips--tricks>Tips & Tricks</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>PicOS-V is the free virtual machine provided by <a href=https://www.pica8.com/ target=_blank rel="noopener noreffer">Pica8</a> that allows you to experiment with their NOS.</p><p>Having virtual images for various NOS is hugely beneficial for learning. PicOS is the one I&rsquo;ve recently stumbled upon.</p><p>A GNS3 qcow2 image is provided as well as directions for loading it into GNS3. However nothing for EVE-NG is provided, but fortunately it&rsquo;s easy to create a custom template and get it loaded in.</p><h3 id=obtain-image>Obtain Image</h3><p>You will need to obtain the PicOS-V image from <a href=https://www.pica8.com/picos-v/#try-picos-at-your-own-pace-with-no-commitments target=_blank rel="noopener noreffer">Pica8&rsquo;s website</a></p><p>When presented with your image download options, select the GNS3 one. This will download a <code>qcow2</code> image.</p><p>At the time of writing, the latest version available is <code>4.3.2.2</code></p><p>Transfer this image to your EVE-NG server</p><h3 id=prepare-image-folder>Prepare Image Folder</h3><p>Navigate to EVE-NGs image folder and create one for your PicOS-V image</p><pre tabindex=0><code>cd /opt/unetlab/addons/qemu/
mkdir picos-4.3.2.2
cd picos-4.3.2.2
</code></pre><p>Move or copy your PicOS-V image into this folder as <code>sataa.qcow2</code></p><pre tabindex=0><code>mv ~/picos-4.3.2.2* ./sataa.qcow2
</code></pre><h3 id=create-custom-template>Create Custom Template</h3><pre tabindex=0><code># picos.yml
---
type: qemu
description: PicOS
name: picos
cpulimit: 1
icon: Router.png
cpu: 1
ram: 2048
ethernet: 5
eth_name:
- eth0
eth_format: swp{1}
console: telnet
qemu_arch: x86_64
qemu_version: 4.1.0
qemu_nic: virtio-net-pci
qemu_options: -machine type=pc,accel=kvm -nographic -rtc base=utc
...
</code></pre><p>After saving this, we can copy it to the AMD & Intel directories where templates are kept</p><pre tabindex=0><code>cp picos.yml /opt/unetlab/html/templates/amd
cp picos.yml /opt/unetlab/html/templates/intel
</code></pre><p>Finally, we just need to register the custom template so EVE-NG knows it exists</p><pre tabindex=0><code># /opt/unetlab/html/includes/custom_templates.yml
---
custom_templates:
  - name: picos
    listname: PicOS
...
</code></pre><h3 id=fix-permissions>Fix Permissions</h3><p>As with all EVE-NG images, we need to run <code>fixpermissions</code></p><pre tabindex=0><code>/opt/unetlab/wrappers/unl_wrapper -a fixpermissions
</code></pre><h3 id=deploy-node>Deploy Node</h3><p>Return to your EVE-NG Lab and launch a node, you will find it <code>PicOS</code>, then in the <code>Image</code> dropdown you can select the version you want.</p><p>Once that&rsquo;s added to the toplogy, you can start it. Wait for it to come to the login prompt.</p><p>PicOS-V default has default credentials of <code>admin</code> / <code>pica8</code>. After authenticating it will have you change the default password</p><h3 id=references>References</h3><p>You can refer to the <a href=https://www.pica8.com/wp-content/uploads/PicOS-V-in-GNS3-User-Guide.pdf target=_blank rel="noopener noreffer">GNS3 Deployment guide</a> as well as a general <a href=https://pica8-fs.atlassian.net/wiki/spaces/PicOS433sp/overview target=_blank rel="noopener noreffer">Configuration Guide</a></p><h3 id=tips--tricks>Tips & Tricks</h3><h4 id=set-management-ip>Set Management IP</h4><pre tabindex=0><code>admin@PICOS&gt; configure
admin@PICOS# set system management-ethernet eth0 ip-address IPv4 dhcp
admin@PICOS# commit
admin@PICOS# run show interface management-ethernet
eth0	Hwaddr: 50:00:00:01:00:00	State: UP
	Gateway  : 192.168.111.1
	Inet addr:
	           192.168.111.168/24
</code></pre><h4 id=simulate-different-hardware-model>Simulate different hardware model</h4><p>By default PicOS-V will simulate an <strong>EdgeCore AS5812-54X</strong>, but you can easily swap it to simulate a different model. This will change the interface naming, etc to match</p><p>To simulate a <strong>Dell N3248P-ON</strong></p><pre tabindex=0><code>admin@PICOS&gt; bash &#34;sudo /etc/reset-product.sh -p N3248P-ON&#34;
Simulation Platform changed from &#39;as5812_54x&#39; to &#39;N3248P-ON&#39;.
Please reboot the virtual machine.
</code></pre><p>Additionally you will want to clear the following directories so previous configuration for the older model is not carried forward</p><pre tabindex=0><code>admin@PICOS&gt; bash &#34;sudo rm /pica/config/*&#34;
admin@PICOS&gt; bash &#34;sudo rm /backup/pica/config/*&#34;
</code></pre><p>Finally, reboot the VM</p><pre tabindex=0><code>request system reboot
</code></pre></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 05-01-2024</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://yzguy.github.io/posts/picos-v-in-eve-ng/ data-title="PicOS-V in EVE-NG"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://yzguy.github.io/posts/picos-v-in-eve-ng/><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://yzguy.github.io/posts/picos-v-in-eve-ng/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://yzguy.github.io/posts/picos-v-in-eve-ng/ data-title="PicOS-V in EVE-NG"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://yzguy.github.io/posts/picos-v-in-eve-ng/><i class="fab fa-reddit fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://yzguy.github.io/posts/picos-v-in-eve-ng/ data-title="PicOS-V in EVE-NG"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://yzguy.github.io/posts/picos-v-in-eve-ng/ data-title="PicOS-V in EVE-NG"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/cloud-images-in-eve-ng/ class=prev rel=prev title="Cloud Images in EVE-NG"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Cloud Images in EVE-NG</a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.125.7">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2024</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://github.com/yzguy target=_blank>Adam Smith</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>